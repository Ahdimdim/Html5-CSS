<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="js/jquery-3.7.1.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      ul {
        list-style: none;
      }
      a {
        text-decoration: none;
        color: #333;
      }
      @font-face {
        font-family: "Neodgm";
        src: url(webfonts/neodgm.woff) format("woff");
      }
      @font-face {
        font-family: "Neo특수";
        font-style: normal;
        src: url(webfonts/neodgm_code.woff) format("woff");
      }
      body {
        font-family: "Neodgm", "Neo특수", sans-serif;
      }
      section {
        height: 100vh;
      }
      /* 메뉴 ▼ */
      header {
        position: absolute;
      }
      nav {
        position: fixed;
        display: flex;
        width: 100%;
        justify-content: space-around;
        line-height: 50px;
        z-index: 200000;
      }
      nav a {
        color: #fff;
        letter-spacing: 1px;
      }
      nav .logo {
        width: 30%;
        font-size: 27px;
      }
      nav ul {
        width: 20%;
        display: flex;
      }
      nav ul li {
        margin: 0px 10px;
        font-size: 30px;
      }
      /* 1페이지 */
      :root {
        --mask-size: 50px;
        --mask-x: -25px;
        --mask-y: -25px;
      }
      .main {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
      }
      .main .page {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100vh;
        text-align: center;
      }
      .main .page .inner {
        position: absolute;
      }
      .main .page .innerCont {
        display: flex;
        justify-content: center;
        align-items: center;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100vh;
      }
      .main .page h2 {
        font-size: 60px;
        overflow: hidden;
        line-height: 1;
        letter-spacing: 2px;
        border-right: 0.08em solid #66c2ff;
        white-space: nowrap;
        animation: typing 3.5s steps(30, end),
          blink-caret 0.5s step-end infinite;
      }
      @keyframes typing {
        from {
          width: 0;
        }
        to {
          width: 100%;
        }
      }
      @keyframes blink-caret {
        from,
        to {
          border-color: transparent;
        }
        50% {
          border-color: #66c2ff;
        }
      }
      .main .page ul {
        display: flex;
        font-size: 30px;
        margin-top: 40px;
        justify-content: center;
      }
      .main .page ul li {
        padding-right: 7px;
        animation: bounceIn 1s linear forwards;
        opacity: 0;
      }
      .main .page ul li:nth-of-type(2) {
        animation-delay: 0.3s;
      }
      .main .page ul li:nth-of-type(3) {
        animation-delay: 0.6s;
      }
      .main .page ul li:nth-of-type(4) {
        animation-delay: 0.9s;
        color: #66c2ff;
      }
      .main .page ul li:nth-of-type(5) {
        animation-delay: 1.2s;
      }
      @keyframes bounceIn {
        0% {
          opacity: 0;
          transform: scale(0.3) translate3d(0, 0, 0);
        }
        50% {
          opacity: 0.9;
          transform: scale(1.1);
        }
        80% {
          opacity: 1;
          transform: scale(0.89);
        }
        100% {
          opacity: 1;
          transform: scale(1) translate3d(0, 0, 0);
        }
      }
      .main .page .night {
        position: absolute;
        bottom: -300px;
        left: 0;
        width: 100%;
        display: none;
      }
      .main .page .night img {
        width: 100%;
        height: 100%;
      }
      .main .page .bg h2 {
        color: #66c2ff;
      }
      .main .page .bg li {
        color: #bbb;
      }
      .main .page .bg .cover {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-image: linear-gradient(241deg, #333, #333);
        opacity: 0.8;
      }
      .main .page .mask {
        color: #d8ecfd;
        clip-path: circle(var(--mask-size) at var(--mask-x) var(--mask-y));
      }
      .main .page .hoverL {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        left: 0;
        width: 100%;
        height: 400px;
        z-index: 999;
      }
      .bg {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100vh;
      }
      video {
        object-fit: cover;
        width: 100vw;
        height: 100vh;
      }
      section:first-child {
        background: silver;
      }

      section:nth-child(3) {
        background: slateblue;
      }
      /* 페이지넘버 ▼ */
      .dot {
        position: fixed;
        top: 50%;
        right: 50px;
        transform: translateY(-50%);
        cursor: pointer;
        z-index: 99999;
      }
      span {
        position: relative;
        display: block;
        padding: 18px;
      }
      span a {
        color: #bbb;
      }
      .dot span.on {
        height: 52px;
        font-size: 0;
      }
      .dot span.on:after {
        content: url(images/star_FILL0sky.png);
        position: absolute;
        top: 11px;
        left: 8.5px;
        animation: bounceIn 0.7s;
      }

      /* 스크롤 마우스 ▼ */
      .scrollIcon {
        position: relative;
        width: 100%;
        height: 100%;
      }
      .container {
        position: absolute;
        width: 24px;
        height: 24px;
        left: 50%;
        bottom: 150px;
        transform: translateX(-50%);
      }
      .chevron {
        position: absolute;
        width: 28px;
        height: 8px;
        opacity: 0;
        transform: scale3d(0.5, 0.5, 0.5);
        animation: move 3s ease-out infinite;
      }
      .chevron:first-child {
        animation: move 3s ease-out 1s infinite;
      }

      .chevron:nth-child(2) {
        animation: move 3s ease-out 2s infinite;
      }
      .chevron:before,
      .chevron:after {
        content: " ";
        position: absolute;
        top: 0;
        height: 100%;
        width: 51%;
        background: #fff;
      }
      .chevron:before {
        left: 0;
        transform: skew(0deg, 30deg);
      }
      .chevron:after {
        right: 0;
        width: 50%;
        transform: skew(0deg, -30deg);
      }
      @keyframes move {
        25% {
          opacity: 1;
        }
        33% {
          opacity: 1;
          transform: translateY(30px);
        }
        67% {
          opacity: 1;
          transform: translateY(40px);
        }
        100% {
          opacity: 0;
          transform: translateY(55px) scale3d(0.5, 0.5, 0.5);
        }
      }
      .text {
        display: block;
        margin-top: 75px;
        margin-left: -65px;
        font-size: 12px;
        color: #fff;
        text-transform: uppercase;
        white-space: nowrap;
        opacity: 0.25;
        animation: pulse 2s linear alternate infinite;
        letter-spacing: 6px;
      }
      @keyframes pulse {
        to {
          opacity: 1;
        }
      }
      section:nth-of-type(2),
      section:nth-of-type(3) {
        background: #000;
      }
      .space {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background: #000;
      }
    </style>
    <script>
      $(function () {
        //도트, 휠----------------------------------------
        $("section").each(function (index) {
          $(this).on("mousewheel", function () {
            console.log(event.wheelDelta);
            let moveTop = $(window).scrollTop();
            let elsel = $("section").eq(index);
            if (event.wheelDelta < 0) {
              if ($(elsel).next() != undefined) {
                try {
                  moveTop = $(elsel).next().offset().top;
                  $(".dot span").css("color", "#bbb").removeClass("on");
                  $(".dot span")
                    .eq(index + 1)
                    .css("color", "#333")
                    .addClass("on");
                } catch (e) {}
              }
            } else {
              if ($(elsel).prev() != undefined) {
                try {
                  moveTop = $(elsel).prev().offset().top;
                  $(".dot span").css("color", "#bbb").removeClass("on");
                  $(".dot span")
                    .eq(index - 1)
                    .css("color", "#333")
                    .addClass("on");
                } catch (e) {}
              }
            }
            $("html,body")
              .stop()
              .animate({ scrollTop: moveTop + "px" }, 500);
          });
        });
      });
      //메뉴 클릭시 도트--------------------
      $(function () {
        $(".innernav li").click(function () {
          let i = $(this).index();
          $(".dot span").removeClass("on");
          $(".dot span").eq(i).addClass("on");
        });
      });
      //도트 클릭시-----------------------
      $(function () {
        $(".dot span a").click(function () {
          let i = $(this).parent().index();
          $(".dot span").removeClass("on");
          $(".dot span").eq(i).addClass("on");
        });
      });
      //마스크--------------------
      $(function () {
        let x_posi = 0;
        let y_posi = 0;
        let x_current = -50;
        let y_current = -50;
        let masksize = 50;
        let size_current = 0;
        let acc = 0.11; //움직이는 속도
        let acc2 = 0.15; //마우스 커지는 속도
        $(document).mousemove(function (e) {
          x_posi = e.pageX;
          y_posi = e.pageY;
          calEase();
        });
        function calEase() {
          x_current = x_current + (x_posi - x_current) * acc;
          y_current = y_current + (y_posi - y_current) * acc;
          size_current = size_current + (masksize - size_current) * acc2;
          $(".mask").css({
            "--mask-size": size_current + "px",
            "--mask-x": x_current + "px",
            "--mask-y": y_current + "px",
          });
        }
        $(".hoverL").hover(
          function () {
            masksize = 250; //마스크 사이즈 키웠다가
          },

          function () {
            masksize = 20; //작아짐
          }
        );

        //애니메이션------
        $(function () {
          //홈 애니메이션
          $(".night").css("display", "block");
          $(".night").animate({ bottom: "0px" }, 500, "linear");
        });
      });
      //2,3배경
      //배경--------------------------------------------------------
      var canvas;
      var context;
      var screenH;
      var screenW;
      var stars = [];
      var fps = 50;
      var numStars = 2000;

      $(document).ready(function () {
        // 스크린 사이즈에 맞게
        screenH = $(window).height();
        screenW = $(window).width();
        canvas = $(".space");

        canvas.attr("height", screenH);
        canvas.attr("width", screenW);
        context = canvas[0].getContext("2d");

        // 별 랜덤하게 나오게
        for (var i = 0; i < numStars; i++) {
          var x = Math.round(Math.random() * screenW);
          var y = Math.round(Math.random() * screenH);
          var length = 1 + Math.random() * 2;
          var opacity = Math.random();

          // 새로운 별 만들기
          var star = new Star(x, y, length, opacity);

          // 별 배열 추가
          stars.push(star);
        }

        setInterval(animate, 1000 / fps);
      });

      /**
       * 애니메이트
       */
      function animate() {
        context.clearRect(0, 0, screenW, screenH);
        $.each(stars, function () {
          this.draw(context);
        });
      }

      /**
       * 별
       *
       * @param int x
       * @param int y
       * @param int length
       * @param opacity
       */
      function Star(x, y, length, opacity) {
        this.x = parseInt(x);
        this.y = parseInt(y);
        this.length = parseInt(length);
        this.opacity = opacity;
        this.factor = 1;
        this.increment = Math.random() * 0.03;
      }

      /**
       *
       * 변수 context로 별 그리기
       *
       * @param context
       */
      Star.prototype.draw = function () {
        context.rotate((Math.PI * 1) / 10);

        // Save the context
        context.save();

        // move into the middle of the canvas, just to make room
        context.translate(this.x, this.y);

        //opacity값 수정은 여기
        if (this.opacity > 1) {
          this.factor = -1;
        } else if (this.opacity <= 0) {
          this.factor = 1;

          this.x = Math.round(Math.random() * screenW);
          this.y = Math.round(Math.random() * screenH);
        }

        this.opacity += this.increment * this.factor;

        context.beginPath();
        for (var i = 5; i--; ) {
          context.lineTo(0, this.length);
          context.translate(0, this.length);
          context.rotate((Math.PI * 2) / 10);
          context.lineTo(0, -this.length);
          context.translate(0, -this.length);
          context.rotate(-((Math.PI * 6) / 10));
        }
        //별색상과 별그림자색
        context.lineTo(0, this.length);
        context.closePath();
        context.fillStyle = "rgba(102, 194, 255, " + this.opacity + ")";
        context.shadowBlur = 5;
        context.shadowColor = "#ffff33";
        context.fill();

        context.restore();
      };
    </script>
  </head>
  <body style="overflow: hidden">
    <header>
      <nav>
        <div class="logo">
          <h1>
            <a href="">AHRIM PLANET</a>
          </h1>
        </div>
        <ul class="innernav">
          <li><a href="#home">HOME</a></li>
          <li><a href="#about">ABOUT</a></li>
          <li><a href="#portfolio">PORTFOLIO</a></li>
        </ul>
      </nav>
    </header>
    <div class="scroll">
      <section id="home">
        <div class="main">
          <div class="page">
            <div class="bg innerCont">
              <video autoplay muted loop src="video/star.mp4"></video>
              <div class="cover"></div>
              <div class="inner">
                <h2>WELCOME AHRIM PLANET</h2>
                <ul>
                  <li>긍정과</li>
                  <li>행복을</li>
                  <li>전하는</li>
                  <li>웹퍼블리셔</li>
                  <li>권아림입니다.</li>
                </ul>
              </div>
              <div class="night">
                <img src="images/light.png" alt="" />
              </div>
            </div>
            <div class="mask innerCont">
              <video autoplay muted loop src="video/star.mp4"></video>
              <div class="inner">
                <h2>WELCOME AHRIM PLANET</h2>
                <ul>
                  <li>긍정과</li>
                  <li>행복을</li>
                  <li>전하는</li>
                  <li>웹퍼블리셔</li>
                  <li>권아림입니다.</li>
                </ul>
              </div>
            </div>
            <div class="hoverL"></div>
            <div class="night">
              <img src="images/night.png" alt="" />
            </div>
            <div class="scrollIcon">
              <div class="container">
                <div class="chevron"></div>
                <div class="chevron"></div>
                <div class="chevron"></div>
                <span class="text">Scroll down</span>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section id="about"><div class="space"></div></section>
      <section id="portfolio" class="space"><div class="space"></div></section>
    </div>
    <div class="dot">
      <span class="on"><a href="#home">1</a></span>
      <span><a href="#about">2</a></span>
      <span><a href="#portfolio">3</a></span>
    </div>
  </body>
</html>
